#[rustfmt::skip]
pub const CP437_CHARS: &[char] = &[
    '\0', '☺', '☻', '♥', '♦', '♣', '♠', '•', '◘', '○', '◙', '♂', '♀', '♪', '♫', '☼',
    '►', '◄', '↕', '‼', '¶', '§', '▬', '↨', '↑', '↓', '→', '←', '∟', '↔', '▲', '▼', 
    ' ', '!', '"', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',', '-', '.', '/',
    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '<', '=', '>', '?',
    '@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',
    'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', '\\', ']', '^', '_', 
    '`', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 
    'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '{', '|', '}', '~', '⌂', 
    'Ç', 'ü', 'é', 'â', 'ä', 'à', 'å', 'ç', 'ê', 'ë', 'è', 'ï', 'î', 'ì', 'Ä', 'Å', 
    'É', 'æ', 'Æ', 'ô', 'ö', 'ò', 'û', 'ù', 'ÿ', 'Ö', 'Ü', '¢', '£', '¥', '₧', 'ƒ', 
    'á', 'í', 'ó', 'ú', 'ñ', 'Ñ', 'ª', 'º', '¿', '⌐', '¬', '½', '¼', '¡', '«', '»', 
    '░', '▒', '▓', '│', '┤', '╡', '╢', '╖', '╕', '╣', '║', '╗', '╝', '╜', '╛', '┐', 
    '└', '┴', '┬', '├', '─', '┼', '╞', '╟', '╚', '╔', '╩', '╦', '╠', '═', '╬', '╧', 
    '╨', '╤', '╥', '╙', '╘', '╒', '╓', '╫', '╪', '┘', '┌', '█', '▄', '▌', '▐', '▀', 
    'α', 'ß', 'Γ', 'π', 'Σ', 'σ', 'µ', 'τ', 'Φ', 'Θ', 'Ω', 'δ', '∞', 'φ', 'ε', '∩', 
    '≡', '±', '≥', '≤', '⌠', '⌡', '÷', '≈', '°', '∙', '·', '√', 'ⁿ', '²', '■', '\u{a0}'
];

#[derive(Debug, Default, PartialEq, Eq, Clone, Copy)]
pub struct Char437(pub(crate) u8);

impl Char437 {
    pub fn offset(&self) -> (u8, u8) {
        (self.0 % 16, self.0 / 16)
    }
}

impl From<u8> for Char437 {
    fn from(value : u8) -> Self {
        Self(value)
    }
}

#[inline]
const fn _437(val : u8) -> Result<Char437, ()> {
    Ok(Char437(val))
}

impl TryFrom<&char> for Char437 {
    type Error = ();

    fn try_from(value : &char) -> Result<Self, Self::Error> {
        ::count_macro::count!(match value {
            '\0' => _437(_int_),
            '☺' => _437(_int_),
            '☻' => _437(_int_),
            '♥' => _437(_int_),
            '♦' => _437(_int_),
            '♣' => _437(_int_),
            '♠' => _437(_int_),
            '•' => _437(_int_),
            '◘' => _437(_int_),
            '○' => _437(_int_),
            '◙' => _437(_int_),
            '♂' => _437(_int_),
            '♀' => _437(_int_),
            '♪' => _437(_int_),
            '♫' => _437(_int_),
            '☼' => _437(_int_),
            '►' => _437(_int_),
            '◄' => _437(_int_),
            '↕' => _437(_int_),
            '‼' => _437(_int_),
            '¶' => _437(_int_),
            '§' => _437(_int_),
            '▬' => _437(_int_),
            '↨' => _437(_int_),
            '↑' => _437(_int_),
            '↓' => _437(_int_),
            '→' => _437(_int_),
            '←' => _437(_int_),
            '∟' => _437(_int_),
            '↔' => _437(_int_),
            '▲' => _437(_int_),
            '▼' => _437(_int_),
            ' ' => _437(_int_),
            '!' => _437(_int_),
            '"' => _437(_int_),
            '#' => _437(_int_),
            '$' => _437(_int_),
            '%' => _437(_int_),
            '&' => _437(_int_),
            '\'' => _437(_int_),
            '(' => _437(_int_),
            ')' => _437(_int_),
            '*' => _437(_int_),
            '+' => _437(_int_),
            ',' => _437(_int_),
            '-' => _437(_int_),
            '.' => _437(_int_),
            '/' => _437(_int_),
            '0' => _437(_int_),
            '1' => _437(_int_),
            '2' => _437(_int_),
            '3' => _437(_int_),
            '4' => _437(_int_),
            '5' => _437(_int_),
            '6' => _437(_int_),
            '7' => _437(_int_),
            '8' => _437(_int_),
            '9' => _437(_int_),
            ':' => _437(_int_),
            ';' => _437(_int_),
            '<' => _437(_int_),
            '=' => _437(_int_),
            '>' => _437(_int_),
            '?' => _437(_int_),
            '@' => _437(_int_),
            'A' => _437(_int_),
            'B' => _437(_int_),
            'C' => _437(_int_),
            'D' => _437(_int_),
            'E' => _437(_int_),
            'F' => _437(_int_),
            'G' => _437(_int_),
            'H' => _437(_int_),
            'I' => _437(_int_),
            'J' => _437(_int_),
            'K' => _437(_int_),
            'L' => _437(_int_),
            'M' => _437(_int_),
            'N' => _437(_int_),
            'O' => _437(_int_),
            'P' => _437(_int_),
            'Q' => _437(_int_),
            'R' => _437(_int_),
            'S' => _437(_int_),
            'T' => _437(_int_),
            'U' => _437(_int_),
            'V' => _437(_int_),
            'W' => _437(_int_),
            'X' => _437(_int_),
            'Y' => _437(_int_),
            'Z' => _437(_int_),
            '[' => _437(_int_),
            '\\' => _437(_int_),
            ']' => _437(_int_),
            '^' => _437(_int_),
            '_' => _437(_int_),
            '`' => _437(_int_),
            'a' => _437(_int_),
            'b' => _437(_int_),
            'c' => _437(_int_),
            'd' => _437(_int_),
            'e' => _437(_int_),
            'f' => _437(_int_),
            'g' => _437(_int_),
            'h' => _437(_int_),
            'i' => _437(_int_),
            'j' => _437(_int_),
            'k' => _437(_int_),
            'l' => _437(_int_),
            'm' => _437(_int_),
            'n' => _437(_int_),
            'o' => _437(_int_),
            'p' => _437(_int_),
            'q' => _437(_int_),
            'r' => _437(_int_),
            's' => _437(_int_),
            't' => _437(_int_),
            'u' => _437(_int_),
            'v' => _437(_int_),
            'w' => _437(_int_),
            'x' => _437(_int_),
            'y' => _437(_int_),
            'z' => _437(_int_),
            '{' => _437(_int_),
            '|' => _437(_int_),
            '}' => _437(_int_),
            '~' => _437(_int_),
            '⌂' => _437(_int_),
            'Ç' => _437(_int_),
            'ü' => _437(_int_),
            'é' => _437(_int_),
            'â' => _437(_int_),
            'ä' => _437(_int_),
            'à' => _437(_int_),
            'å' => _437(_int_),
            'ç' => _437(_int_),
            'ê' => _437(_int_),
            'ë' => _437(_int_),
            'è' => _437(_int_),
            'ï' => _437(_int_),
            'î' => _437(_int_),
            'ì' => _437(_int_),
            'Ä' => _437(_int_),
            'Å' => _437(_int_),
            'É' => _437(_int_),
            'æ' => _437(_int_),
            'Æ' => _437(_int_),
            'ô' => _437(_int_),
            'ö' => _437(_int_),
            'ò' => _437(_int_),
            'û' => _437(_int_),
            'ù' => _437(_int_),
            'ÿ' => _437(_int_),
            'Ö' => _437(_int_),
            'Ü' => _437(_int_),
            '¢' => _437(_int_),
            '£' => _437(_int_),
            '¥' => _437(_int_),
            '₧' => _437(_int_),
            'ƒ' => _437(_int_),
            'á' => _437(_int_),
            'í' => _437(_int_),
            'ó' => _437(_int_),
            'ú' => _437(_int_),
            'ñ' => _437(_int_),
            'Ñ' => _437(_int_),
            'ª' => _437(_int_),
            'º' => _437(_int_),
            '¿' => _437(_int_),
            '⌐' => _437(_int_),
            '¬' => _437(_int_),
            '½' => _437(_int_),
            '¼' => _437(_int_),
            '¡' => _437(_int_),
            '«' => _437(_int_),
            '»' => _437(_int_),
            '░' => _437(_int_),
            '▒' => _437(_int_),
            '▓' => _437(_int_),
            '│' => _437(_int_),
            '┤' => _437(_int_),
            '╡' => _437(_int_),
            '╢' => _437(_int_),
            '╖' => _437(_int_),
            '╕' => _437(_int_),
            '╣' => _437(_int_),
            '║' => _437(_int_),
            '╗' => _437(_int_),
            '╝' => _437(_int_),
            '╜' => _437(_int_),
            '╛' => _437(_int_),
            '┐' => _437(_int_),
            '└' => _437(_int_),
            '┴' => _437(_int_),
            '┬' => _437(_int_),
            '├' => _437(_int_),
            '─' => _437(_int_),
            '┼' => _437(_int_),
            '╞' => _437(_int_),
            '╟' => _437(_int_),
            '╚' => _437(_int_),
            '╔' => _437(_int_),
            '╩' => _437(_int_),
            '╦' => _437(_int_),
            '╠' => _437(_int_),
            '═' => _437(_int_),
            '╬' => _437(_int_),
            '╧' => _437(_int_),
            '╨' => _437(_int_),
            '╤' => _437(_int_),
            '╥' => _437(_int_),
            '╙' => _437(_int_),
            '╘' => _437(_int_),
            '╒' => _437(_int_),
            '╓' => _437(_int_),
            '╫' => _437(_int_),
            '╪' => _437(_int_),
            '┘' => _437(_int_),
            '┌' => _437(_int_),
            '█' => _437(_int_),
            '▄' => _437(_int_),
            '▌' => _437(_int_),
            '▐' => _437(_int_),
            '▀' => _437(_int_),
            'α' => _437(_int_),
            'ß' => _437(_int_),
            'Γ' => _437(_int_),
            'π' => _437(_int_),
            'Σ' => _437(_int_),
            'σ' => _437(_int_),
            'µ' => _437(_int_),
            'τ' => _437(_int_),
            'Φ' => _437(_int_),
            'Θ' => _437(_int_),
            'Ω' => _437(_int_),
            'δ' => _437(_int_),
            '∞' => _437(_int_),
            'φ' => _437(_int_),
            'ε' => _437(_int_),
            '∩' => _437(_int_),
            '≡' => _437(_int_),
            '±' => _437(_int_),
            '≥' => _437(_int_),
            '≤' => _437(_int_),
            '⌠' => _437(_int_),
            '⌡' => _437(_int_),
            '÷' => _437(_int_),
            '≈' => _437(_int_),
            '°' => _437(_int_),
            '∙' => _437(_int_),
            '·' => _437(_int_),
            '√' => _437(_int_),
            'ⁿ' => _437(_int_),
            '²' => _437(_int_),
            '■' => _437(_int_),
            '\u{a0}' => _437(_int_),
            _ => Err(()),
        })
    }
}

impl TryFrom<char> for Char437 {
    type Error = ();

    #[inline]
    fn try_from(value : char) -> Result<Self, Self::Error> {
        Self::try_from(&value)
    }
}

pub trait CP437CharExt {
    fn is_cp437(&self) -> bool;
}

impl CP437CharExt for char {
    fn is_cp437(&self) -> bool {
        Char437::try_from(self).is_ok()
    }
}
